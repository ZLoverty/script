<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>crop_channel</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="extract" href="extract.html" />
  <link rel="prev" title="circulation_order_parameter" href="circulation_order_parameter.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <span class="site-name">script</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#contents">contents</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="PIV.html" class="reference internal ">PIV</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="apply_mask.html" class="reference internal ">apply_mask</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="batch_gen_preview.html" class="reference internal ">batch_gen_preview</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="batch_mean_velocity.html" class="reference internal ">batch_mean_velocity</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="batch_spatial_correlation.html" class="reference internal ">batch_spatial_correlation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="batch_to_tif.html" class="reference internal ">batch_to_tif</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="batch_to_vid.html" class="reference internal ">batch_to_vid</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="batch_velocity_autocorr.html" class="reference internal ">batch_velocity_autocorr</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="bpass.html" class="reference internal ">bpass</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="bpass_mh.html" class="reference internal ">bpass_mh</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="circulation_order_parameter.html" class="reference internal ">circulation_order_parameter</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">crop_channel</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#crop-channel" class="reference internal">crop_channel</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="extract.html" class="reference internal ">extract</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="flowrate.html" class="reference internal ">flowrate</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="gen_preview.html" class="reference internal ">gen_preview</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="ij_piv.html" class="reference internal ">ij_piv</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="mean_velocity.html" class="reference internal ">mean_velocity</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="moving_mask_piv.html" class="reference internal ">moving_mask_piv</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="myautodoc.html" class="reference internal ">myautodoc</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="piv_drop.html" class="reference internal ">piv_drop</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="piv_overlay.html" class="reference internal ">piv_overlay</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="remove_background.html" class="reference internal ">remove_background</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="rename_ij_piv.html" class="reference internal ">rename_ij_piv</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="small_imseq.html" class="reference internal ">small_imseq</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="spatial_correlation.html" class="reference internal ">spatial_correlation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="to_tif.html" class="reference internal ">to_tif</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="to_vid.html" class="reference internal ">to_vid</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="velocity_autocorr.html" class="reference internal ">velocity_autocorr</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="wrap_piv.html" class="reference internal ">wrap_piv</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>crop_channel</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="circulation_order_parameter.html"
       title="previous chapter">← circulation_order_parameter</a>
  </li>
  <li class="next">
    <a href="extract.html"
       title="next chapter">extract →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <div class="section" id="crop-channel">
<h1>crop_channel<a class="headerlink" href="#crop-channel" title="Permalink to this heading">¶</a></h1>
<p>Crop channels from bifurcation AN images. In a typical bifurcation experiment, we have a 3-way micro-channel photoprinted on a resin. This micro-channel is cast on the active microtubule system at an oil-water interface. The chaotic turbulent-like motions of microtubules will be rectified by the micro-channels. Ratchet structures are used to set one of the channels as inlet. The flow then goes into either remaining channels, or into both at certain fractions. We study what is the “preferred” bifurcation of the flow. In the cropped images, predetermined positive (+) direction always points upward.</p>
<p>This code crops the original multi-microchannel images into single channels, to allow more efficient PIV analysis. Ono top of cropping, the code also remove the background static feature from the images, by dividing the images by the median of the image stack. The images are then converted from float64 to 8-bit to save the storage space.</p>
<p class="rubric">Syntax</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python crop_channel.py crop_data nd2Dir</span>
</pre></div>
</div>
<ul class="simple">
<li><p>crop_data: the directory to a *.csv file specifying how the raw images should be cropped. Typically, it consists 6 rows, where rows 1, 3, 5 contain rotation information, rows 2, 4, 6 contain cropping information. The image will rotate according to row 1, and cropped according to row 2, and so on so forth. The file is typically generated using ImageJ measurement tool.</p></li>
<li><p>nd2Dir: full directory of the *.nd2 file to be cropped.</p></li>
</ul>
<p>The folder structure is illustrated below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">|-- nd2_folder</span>
<span class="go">    |-- 00.nd2</span>
<span class="go">    |-- 01.nd2</span>
<span class="go">    |-- ...</span>
<span class="go">    |-- crop_channel</span>
<span class="go">        |-- 00_A.tif</span>
<span class="go">        |-- 00_B.tif</span>
<span class="go">        |-- 00_C.tif</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>When creating crop_data in ImageJ, only select “bounding rectangle” in “Analyze -&gt; Set measurements…”</p></li>
<li><p>When creating crop_data, DO remember to remove the scale !!!</p></li>
</ul>
</div>
<p class="rubric">Edit</p>
<dl class="field-list simple">
<dt class="field-odd">Nov 03, 2022</dt>
<dd class="field-odd"><p>Initial commit.</p>
</dd>
<dt class="field-even">Nov 23, 2022</dt>
<dd class="field-even"><p>To make the workflow consistent with Claire’s, it is more convenient to crop the channel region directly from the *.nd2 file, and save as tifstack. Now crop directly from *.nd2 files to  tifstack.</p>
</dd>
</dl>
</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="circulation_order_parameter.html"
       title="previous chapter">← circulation_order_parameter</a>
  </li>
  <li class="next">
    <a href="extract.html"
       title="next chapter">extract →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2022, Zhengyang Liu.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>